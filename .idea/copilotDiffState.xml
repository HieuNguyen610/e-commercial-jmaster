<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/account-service/pom.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/account-service/pom.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;    &lt;parent&gt;&#10;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&#10;        &lt;version&gt;4.0.0&lt;/version&gt;&#10;        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;&#10;    &lt;/parent&gt;&#10;    &lt;groupId&gt;com.mods&lt;/groupId&gt;&#10;    &lt;artifactId&gt;account-service&lt;/artifactId&gt;&#10;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&#10;    &lt;name&gt;account-service&lt;/name&gt;&#10;    &lt;description&gt;account-service&lt;/description&gt;&#10;    &lt;url/&gt;&#10;    &lt;licenses&gt;&#10;        &lt;license/&gt;&#10;    &lt;/licenses&gt;&#10;    &lt;developers&gt;&#10;        &lt;developer/&gt;&#10;    &lt;/developers&gt;&#10;    &lt;scm&gt;&#10;        &lt;connection/&gt;&#10;        &lt;developerConnection/&gt;&#10;        &lt;tag/&gt;&#10;        &lt;url/&gt;&#10;    &lt;/scm&gt;&#10;    &lt;properties&gt;&#10;        &lt;java.version&gt;17&lt;/java.version&gt;&#10;    &lt;/properties&gt;&#10;    &lt;dependencies&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-webmvc&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mysql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-data-jpa-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-webmvc-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;&#10;            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;annotationProcessorPaths&gt;&#10;                        &lt;path&gt;&#10;                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;                        &lt;/path&gt;&#10;                    &lt;/annotationProcessorPaths&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;excludes&gt;&#10;                        &lt;exclude&gt;&#10;                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;                        &lt;/exclude&gt;&#10;                    &lt;/excludes&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&#10;&lt;/project&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;    &lt;parent&gt;&#10;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&#10;        &lt;version&gt;4.0.0&lt;/version&gt;&#10;        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;&#10;    &lt;/parent&gt;&#10;    &lt;groupId&gt;com.mods&lt;/groupId&gt;&#10;    &lt;artifactId&gt;account-service&lt;/artifactId&gt;&#10;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&#10;    &lt;name&gt;account-service&lt;/name&gt;&#10;    &lt;description&gt;account-service&lt;/description&gt;&#10;    &lt;url/&gt;&#10;    &lt;licenses&gt;&#10;        &lt;license/&gt;&#10;    &lt;/licenses&gt;&#10;    &lt;developers&gt;&#10;        &lt;developer/&gt;&#10;    &lt;/developers&gt;&#10;    &lt;scm&gt;&#10;        &lt;connection/&gt;&#10;        &lt;developerConnection/&gt;&#10;        &lt;tag/&gt;&#10;        &lt;url/&gt;&#10;    &lt;/scm&gt;&#10;    &lt;properties&gt;&#10;        &lt;java.version&gt;17&lt;/java.version&gt;&#10;    &lt;/properties&gt;&#10;    &lt;dependencies&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-webmvc&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mysql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-data-jpa-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-webmvc-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;&#10;            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;&#10;            &lt;version&gt;3.1.1&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&#10;                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;annotationProcessorPaths&gt;&#10;                        &lt;path&gt;&#10;                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;                        &lt;/path&gt;&#10;                    &lt;/annotationProcessorPaths&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;excludes&gt;&#10;                        &lt;exclude&gt;&#10;                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;                        &lt;/exclude&gt;&#10;                    &lt;/excludes&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&#10;&lt;/project&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/account-service/src/main/java/com/mods/accountservice/model/AccountDto.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/account-service/src/main/java/com/mods/accountservice/model/AccountDto.java" />
              <option name="originalContent" value="package com.mods.accountservice.model;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.Data;&#10;&#10;import java.util.List;&#10;&#10;@Data&#10;public class AccountDto {&#10;    private  Long id;&#10;&#10;    private String username;&#10;&#10;    private String password;&#10;&#10;    private String email;&#10;&#10;    private List&lt;String&gt; roles;&#10;}&#10;" />
              <option name="updatedContent" value="package com.mods.accountservice.model;&#10;&#10;import lombok.Data;&#10;&#10;import java.util.List;&#10;&#10;@Data&#10;public class AccountDto {&#10;    private  Long id;&#10;&#10;    private String username;&#10;&#10;    private String password;&#10;&#10;    private String email;&#10;&#10;    private List&lt;String&gt; roles;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/account-service/src/main/java/com/mods/accountservice/service/impl/AccountServiceImpl.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/account-service/src/main/java/com/mods/accountservice/service/impl/AccountServiceImpl.java" />
              <option name="originalContent" value="package com.mods.accountservice.service.impl;&#10;&#10;import com.mods.accountservice.entity.Account;&#10;import com.mods.accountservice.model.AccountDto;&#10;import com.mods.accountservice.repository.AccountRepository;&#10;import com.mods.accountservice.service.AccountService;&#10;import lombok.RequiredArgsConstructor;&#10;import org.modelmapper.ModelMapper;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.util.List;&#10;import java.util.stream.Collectors;&#10;&#10;@Service&#10;@RequiredArgsConstructor&#10;public class AccountServiceImpl implements AccountService {&#10;&#10;    private final AccountRepository accountRepository;&#10;    private final ModelMapper modelMapper;&#10;&#10;    @Override&#10;    public void add(AccountDto accountDto) {&#10;        Account account = modelMapper.map(accountDto, Account.class);&#10;        accountRepository.save(account);&#10;    }&#10;&#10;    @Override&#10;    public void update(AccountDto accountDto) {&#10;        if (accountDto.getId() == null) {&#10;            throw new IllegalArgumentException(&quot;Account id is required for update&quot;);&#10;        }&#10;        Account existing = accountRepository.findById(accountDto.getId())&#10;                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Account not found with id: &quot; + accountDto.getId()));&#10;&#10;        existing.setUsername(accountDto.getUsername());&#10;        existing.setEmail(accountDto.getEmail());&#10;        existing.setRoles(accountDto.getRoles());&#10;&#10;        accountRepository.save(existing);&#10;    }&#10;&#10;    @Override&#10;    public void updatePassword(AccountDto accountDto) {&#10;        if (accountDto.getId() == null) {&#10;            throw new IllegalArgumentException(&quot;Account id is required to update password&quot;);&#10;        }&#10;        if (accountDto.getPassword() == null) {&#10;            throw new IllegalArgumentException(&quot;New password is required&quot;);&#10;        }&#10;        Account existing = accountRepository.findById(accountDto.getId())&#10;                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Account not found with id: &quot; + accountDto.getId()));&#10;&#10;        existing.setPassword(accountDto.getPassword());&#10;        accountRepository.save(existing);&#10;    }&#10;&#10;    @Override&#10;    public void delete(Long id) {&#10;        accountRepository.deleteById(id);&#10;    }&#10;&#10;    @Override&#10;    public List&lt;AccountDto&gt; findAll() {&#10;        return accountRepository.findAll()&#10;                .stream()&#10;                .map(a -&gt; modelMapper.map(a, AccountDto.class))&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    @Override&#10;    public AccountDto findById(Long id) {&#10;        return accountRepository.findById(id)&#10;                .map(a -&gt; modelMapper.map(a, AccountDto.class))&#10;                .orElse(null);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.mods.accountservice.service.impl;&#10;&#10;import com.mods.accountservice.entity.Account;&#10;import com.mods.accountservice.model.AccountDto;&#10;import com.mods.accountservice.repository.AccountRepository;&#10;import com.mods.accountservice.service.AccountService;&#10;import lombok.RequiredArgsConstructor;&#10;import org.modelmapper.ModelMapper;&#10;import org.springframework.stereotype.Service;&#10;&#10;import java.util.List;&#10;import java.util.stream.Collectors;&#10;&#10;@Service&#10;@RequiredArgsConstructor&#10;@SuppressWarnings(&quot;unused&quot;)&#10;public class AccountServiceImpl implements AccountService {&#10;&#10;    private final AccountRepository accountRepository;&#10;    private final ModelMapper modelMapper;&#10;&#10;    @Override&#10;    public void add(AccountDto accountDto) {&#10;        Account account = modelMapper.map(accountDto, Account.class);&#10;        accountRepository.save(account);&#10;    }&#10;&#10;    @Override&#10;    public void update(AccountDto accountDto) {&#10;        if (accountDto.getId() == null) {&#10;            throw new IllegalArgumentException(&quot;Account id is required for update&quot;);&#10;        }&#10;        Account existing = accountRepository.findById(accountDto.getId())&#10;                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Account not found with id: &quot; + accountDto.getId()));&#10;&#10;        // Update allowed fields (do not overwrite password here)&#10;        existing.setUsername(accountDto.getUsername());&#10;        existing.setEmail(accountDto.getEmail());&#10;        existing.setRoles(accountDto.getRoles());&#10;&#10;        accountRepository.save(existing);&#10;    }&#10;&#10;    @Override&#10;    public void updatePassword(AccountDto accountDto) {&#10;        if (accountDto.getId() == null) {&#10;            throw new IllegalArgumentException(&quot;Account id is required to update password&quot;);&#10;        }&#10;        if (accountDto.getPassword() == null) {&#10;            throw new IllegalArgumentException(&quot;New password is required&quot;);&#10;        }&#10;        Account existing = accountRepository.findById(accountDto.getId())&#10;                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Account not found with id: &quot; + accountDto.getId()));&#10;&#10;        existing.setPassword(accountDto.getPassword());&#10;        accountRepository.save(existing);&#10;    }&#10;&#10;    @Override&#10;    public void delete(Long id) {&#10;        accountRepository.deleteById(id);&#10;    }&#10;&#10;    @Override&#10;    public List&lt;AccountDto&gt; findAll() {&#10;        return accountRepository.findAll()&#10;                .stream()&#10;                .map(a -&gt; modelMapper.map(a, AccountDto.class))&#10;                .collect(Collectors.toList());&#10;    }&#10;&#10;    @Override&#10;    public AccountDto findById(Long id) {&#10;        return accountRepository.findById(id)&#10;                .map(a -&gt; modelMapper.map(a, AccountDto.class))&#10;                .orElse(null);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>